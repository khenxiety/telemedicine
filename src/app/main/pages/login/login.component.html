<app-img-bg></app-img-bg>
<div class="page-wrapper section-1">
  <div class="container" style="min-height: calc(100vh - 30px)">
    <div class="row login" >
      <div class="col-lg-5 col-md-5 col-sm-12">
        <div class="card px-5 py-5" [class.mt-4]="isMobileView">
          <form action="" class="login-form" *ngIf="!isSignup" [formGroup]="loginFormGroup">
            <div class="mb-2 text-container">
              <h2 class="font-color-primary h2-responsive">
                Log<span class="font-color-secondary">in</span>
              </h2>
              <p class="font-color-primary">
                Donâ€™t have an account yet?
                <a (click)="isSignup = true" class="font-color-secondary">Sign up</a>
              </p>
            </div>

            <div class="mb-2">
              <nz-form-item>
                <nz-form-control nzErrorTip="Please input your email!">
                  <nz-input-group nzPrefixIcon="mail">
                    <input
                      class="inputs round"
                      type="email"
                      nz-input
                      placeholder="Email"
                      formControlName="email"

                    />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="mb-2">
              <nz-form-item>
                <nz-form-control nzErrorTip="Please input your Password!">
                  <nz-input-group nzPrefixIcon="lock">
                    <input
                      class="inputs round"
                      type="password"
                      nz-input
                      placeholder="Password"
                      formControlName="password"
                    />
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div class="mb-2">
              <button class="button-ggl primary round d-flex align-items-center" nzBlock nz-button nzType="primary"
              (click)="onClick('login')"  [disabled]="isLoading">
                <span nz-icon [nzType]="'loading'" *ngIf="isLoading"></span>
                <span >{{ !isLoading ? "Login with email" : "Logging in" }}</span>
              </button>
            </div>
          </form>

          <form action="" [formGroup]="signupFormGroup" class="signup" *ngIf="isSignup">
            <div class="mb-2 text-container">
              <h2 class="font-color-primary h2-responsive">
                Regist<span class="font-color-secondary">ration</span>
              </h2>
              <p class="font-color-primary">
                Already registered?
                <a (click)="isSignup = false" class="font-color-secondary">Login here</a>
              </p>
            </div>

            <div class="mb-2" *ngFor="let sign of signupArray; let i = index">
              <nz-form-item [ngClass]="i == 4 && signupFormGroup.get('password')?.valid ? 'mb-0' :''">
                <nz-form-control  [nzErrorTip]="sign.errorTip">
                  <nz-input-group [nzPrefixIcon]="sign.icon">
                    <input
                      class="inputs round"
                      [type]="sign.type"
                      nz-input
                      [placeholder]="sign.placeholder"
                      [formControlName]="sign.controlName"
                    />
                    
                  </nz-input-group>
                </nz-form-control>
              </nz-form-item>
              <div class="progressPassword mt-1" *ngIf="i ==4 && signupFormGroup.get('password')?.valid">
                <span style="font-weight: 600; font-size: 13px;" nz-typography [nzType]="textClass.split('|')[1]">
                  {{progressText}}

                  <span style="font-weight: 400">

                    {{progressHintText}}
                  </span>
                  
                </span>
                <nz-progress [nzPercent]="progressValue" [nzStatus]="textClass.split('|')[0]"></nz-progress>
              </div>

              
            </div>
            <div class="mb-2">
              
              <button class="button-ggl primary round d-flex align-items-center" nzBlock nz-button nzType="primary"
              (click)="onClick('signup')"  [disabled]="isLoading">
                <span nz-icon [nzType]="'loading'" *ngIf="isLoading"></span>
                <span >{{ !isLoading ? "Sign up" : "Signing up" }}</span>
              </button>
            </div>
          </form>
        </div>
      </div>
      <div class="col-lg-7 col-md-7 col-sm-12 d-flex align-items-center" [class.mt-5]="isMobileView">
        <img
          class="hero-logo"
          width="100%"
          height="100%"
          style="object-fit: cover; max-height: 533px;"
          src="./assets/login logo.png"
          alt=""
        />
      </div>
    </div>

    
  </div>
</div>

<div class="section-2">
  <div class="row w-100">
    <div class="col-12 text-center">
      <h1 class="font-color-primary">
        BRINGING YOUR
        <span class="font-color-secondary"
          >DIAGNOSTIC <br />
          NEEDS</span
        >
        AT YOUR REACH
      </h1>
      <button class="button-ggl round" nzType="primary" nz-button>
        Learn More
      </button>
    </div>
  </div>
</div>

<app-contact-form [marginTop]="true" [isHeaderTextOn]="false"></app-contact-form>
